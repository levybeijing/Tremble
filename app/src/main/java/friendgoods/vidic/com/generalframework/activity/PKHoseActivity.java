package friendgoods.vidic.com.generalframework.activity;import android.app.Activity;import android.os.Bundle;import android.view.View;import android.widget.Button;import android.widget.ImageView;import android.widget.TextView;import java.text.SimpleDateFormat;import java.util.Calendar;import java.util.Date;import friendgoods.vidic.com.generalframework.R;import friendgoods.vidic.com.generalframework.util.ToastUtils;import friendgoods.vidic.com.generalframework.widget.OnTimeSelectListener;import friendgoods.vidic.com.generalframework.widget.TimePickerBuilder;import friendgoods.vidic.com.generalframework.widget.TimePickerView;/** * Created by Administrator on 2016/10/8 0008. */public class PKHoseActivity extends Activity implements View.OnClickListener {    private TextView hoseTimeOne;    private TextView hoseTimeTwo;    private TextView hoseBranchOne;    private TextView hoseBranchTwo;    private TextView hoseSecondOne;    private TextView hoseSecondTwo;    private ImageView hoseSecondSure;    private TimePickerView pvCustomTime;    private int type = 1;    private ImageView toHose;    private Button hoseReady;    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.fragment_pk_hose);        hoseTimeOne = findViewById(R.id.hose_time_one);        hoseTimeTwo = findViewById(R.id.hose_time_two);        hoseBranchOne = findViewById(R.id.hose_branch_one);        hoseBranchTwo = findViewById(R.id.hose_branch_two);        hoseSecondOne = findViewById(R.id.hose_second_one);        hoseSecondTwo = findViewById(R.id.hose_second_two);        hoseSecondSure = findViewById(R.id.hose_second_sure);        toHose = findViewById(R.id.to_hose);        hoseReady = findViewById(R.id.hose_ready);        initCustomTimePicker();        hoseTimeOne.setOnClickListener(this);        hoseTimeTwo.setOnClickListener(this);        hoseBranchOne.setOnClickListener(this);        hoseBranchTwo.setOnClickListener(this);        hoseSecondOne.setOnClickListener(this);        hoseSecondTwo.setOnClickListener(this);        hoseSecondSure.setOnClickListener(this);        toHose.setOnClickListener(this);        hoseReady.setOnClickListener(this);    }    @Override    public void onClick(View view) {        switch (view.getId()) {            case R.id.hose_time_one:                if (type == 1){                    pvCustomTime.show();                }                break;            case R.id.hose_time_two:                if (type == 1) {                    pvCustomTime.show();                }                break;            case R.id.hose_branch_one:                if (type == 1) {                    pvCustomTime.show();                }                break;            case R.id.hose_branch_two:                if (type == 1) {                    pvCustomTime.show();                }                break;            case R.id.hose_second_one:                if (type == 1) {                    pvCustomTime.show();                }                break;            case R.id.hose_second_two:                if (type == 1) {                    pvCustomTime.show();                }                break;            case R.id.hose_second_sure:                hoseSecondSure.setVisibility(View.GONE);                type = 0;                break;            case R.id.to_hose:                PKHoseActivity.this.finish();                break;            case R.id.hose_ready:                if (type == 1) {                    ToastUtils.shortToast("请输入时间");                }else {                }                break;        }    }    private void initCustomTimePicker() {        Calendar selectedDate = Calendar.getInstance();//系统当前时间        Calendar startDate = Calendar.getInstance();        startDate.set(2014, 1, 23);        Calendar endDate = Calendar.getInstance();        endDate.set(2027, 2, 28);        //时间选择器 ，自定义布局        pvCustomTime = new TimePickerBuilder(this, new OnTimeSelectListener() {            @Override            public void onTimeSelect(Date date, View v) {                ToastUtils.shortToast(getTime(date));                String datetime = getTime(date);                hoseTimeOne.setText(String.valueOf(datetime.charAt(0)));                hoseTimeTwo.setText(String.valueOf(datetime.charAt(1)));                hoseBranchOne.setText(String.valueOf(datetime.charAt(3)));                hoseBranchTwo.setText(String.valueOf(datetime.charAt(4)));                hoseSecondOne.setText(String.valueOf(datetime.charAt(6)));                hoseSecondTwo.setText(String.valueOf(datetime.charAt(7)));            }        })                .setDate(selectedDate)                .setRangDate(startDate, endDate)                .setContentTextSize(18)                .setType(new boolean[]{false, false, false, true, true, true})                .setLabel("年", "月", "日", "时", "分", "秒")                .setLineSpacingMultiplier(1.2f)                .setTextXOffset(0, 0, 0, 40, 0, -40)                .isCenterLabel(false) //是否只显示中间选中项的label文字，false则每项item全部都带有label。                .setDividerColor(0xFF24AD9D)                .build();    }    private String getTime(Date date) {//可根据需要自行截取数据显示        SimpleDateFormat format = new SimpleDateFormat("HH:mm:ss");        return format.format(date);    }}